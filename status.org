Initial and Found are in units of molecules, and initial corresponds to my
coverage check on v2-tm on its training data. Molecules is the number of SMILES
in the corresponding output file from the initial search

I was using looser epsilon for the parameters with fewer initial molecule
matches, but 120h, in particular, had several very similar molecules. 0.7 seems
like a good cutoff for filtering out this kind of thing

#+name: results
| Parameter | Molecules | Initial | Found |
|-----------+-----------+---------+-------|
| t143j     |         2 |       6 |     2 |
| t122g     |         3 |       5 |     2 |
| t133g     |         4 |       0 |     2 |
| t18b      |         8 |       0 |     2 |
| t87a      |        14 |       0 |     4 |
| t130h     |        18 |       0 |     8 |
| t120h     |        19 |       2 |     5 |
| t122l     |        19 |       2 |    10 |
| t42a      |        22 |      13 |     9 |
| t102      |        24 |       6 |    12 |
| t119h     |        28 |       3 |     6 |
| t62g      |        32 |       0 |     8 |
| t61g      |        33 |       0 |     9 |
| t133h     |        33 |       0 |     5 |
| t133i     |        42 |       5 |     7 |
| t122j     |        57 |       7 |     5 |
| t132h     |        58 |       8 |    11 |
| t130i     |        67 |       1 |    14 |
| t138a     |        96 |       0 |    12 |
| t103      |       100 |       8 |    12 |
| t118h     |       128 |       7 |    11 |
| t143k     |       132 |       5 |    14 |
| t112      |       147 |       4 |    15 |
| t142j     |       155 |       0 |    15 |
| t116i     |       158 |       0 |    16 |
| t164      |       189 |       5 |    13 |
| t8        |       199 |       6 |    12 |
| t113      |       226 |       8 |     9 |
| t7        |       250 |       8 |    14 |
| t155      |       280 |       9 |    10 |
| t126      |       281 |       3 |    14 |
| t73h      |       302 |      11 |    17 |
| t89       |       435 |       1 |    17 |
| t74h      |       463 |      10 |    14 |
| t142k     |       503 |       0 |    16 |
| t54       |       700 |      10 |     9 |
| t63       |       718 |      10 |    15 |
| t55       |       942 |      12 |     6 |
| t101      |       955 |       3 |    18 |
| t133j     |      1052 |      10 |    11 |
| t91       |      1168 |      10 |    10 |
| t100      |      1613 |       6 |    10 |
| t48a      |      1861 |       1 |    15 |
| t141      |      1974 |       6 |    10 |
| t65       |      2490 |      11 |     7 |
| t30       |      2563 |       6 |    11 |
| t153      |      2701 |      13 |     8 |
| t142h     |      2749 |       9 |     7 |
| t6        |      2809 |      14 |     4 |
| t12       |      3035 |      14 |     2 |
| t52       |      3339 |       9 |    14 |
| t56       |      3394 |       8 |    10 |
| t53       |      3525 |       9 |    12 |
| t19a      |      3535 |       4 |    13 |
| t88       |      3818 |       7 |     8 |
| t57       |      3960 |       5 |    14 |
| t18a      |      4245 |       3 |    15 |
| t37       |      4484 |      14 |    16 |
| t128      |      4494 |       8 |     8 |
| t125      |      4963 |       9 |    11 |
| t124      |      5129 |       7 |    10 |
| t136      |      6210 |      14 |    13 |
| t116j     |      6306 |       0 |    15 |
| t72h      |      6969 |       4 |    12 |
| t115h     |      7736 |       0 |    15 |
| t71h      |      9470 |      10 |    10 |
| t158      |     10273 |       5 |    11 |
| t122i     |     11357 |       5 |    10 |
| t82a      |     12265 |      11 |     8 |
| t134      |     13017 |      11 |     9 |
| t49       |     17544 |       9 |     8 |
| t123a     |     17562 |      10 |     5 |
| t82h      |     17847 |      10 |     6 |
| t135      |     18139 |       8 |    16 |
| t165      |     34267 |      13 |    13 |
| t99       |     36126 |      14 |       |
| t68       |     38862 |       9 |       |
| t141b     |     53491 |       1 |       |
| t150      |     62029 |       9 |       |
| t81       |     81527 |       1 |       |
| t83h      |     89906 |      12 |       |
| t141c     |    139173 |       9 |       |
| t141a     |    179719 |      10 |       |

#+begin_src awk :stdin results
  BEGIN {
	  COMPLETE = 6
	  head = "cargo run --bin fingerprint --release -- output/"
	  tail = " 2> /dev/null > /tmp/smiles"
  }
  function make_cmd(param, min_pts, eps) {
	  return sprintf("%s%s.smiles --parameter %s --min-pts %d --epsilon %f %s",
					 head, param, param, min_pts, eps, tail)
  }
  NR == 1 { print }
  NR > 1 && NF < COMPLETE {
	  smiles_file = "output/" $1 ".smiles"
	  param = $1
	  min_pts = NF > 3 ? $4 : 1
	  eps = NF > 4 ? $5 : 0.7
	  system(make_cmd(param, min_pts, eps))
	  cmd = "wc -l /tmp/smiles"
	  cmd | getline words
	  close(cmd)
	  split(words, arr)
	  print $1, $2, $3, min_pts, eps, arr[1]
  }
#+end_src

#+RESULTS:
| Parameter | Molecules | Initial | MinPts |   Eps | Found |
| t103      |       100 |       8 |      5 | 0.725 |     3 |
| t118h     |       128 |       7 |      5 | 0.725 |     2 |
| t143k     |       132 |       5 |      5 | 0.725 |     2 |
| t112      |       147 |       4 |      5 | 0.725 |     2 |
| t142j     |       155 |       0 |      5 | 0.725 |     4 |
| t116i     |       158 |       0 |      5 | 0.725 |     4 |
| t164      |       189 |       5 |      5 | 0.725 |     5 |
| t8        |       199 |       6 |      5 | 0.725 |     3 |
| t113      |       226 |       8 |      5 | 0.725 |     4 |
| t7        |       250 |       8 |      5 | 0.725 |    11 |
| t155      |       280 |       9 |      5 | 0.725 |     6 |
| t126      |       281 |       3 |      5 | 0.725 |    11 |
| t73h      |       302 |      11 |      5 | 0.725 |    11 |
| t89       |       435 |       1 |      5 | 0.725 |     6 |
| t74h      |       463 |      10 |      5 | 0.725 |    12 |
| t142k     |       503 |       0 |      5 | 0.725 |    10 |
| t54       |       700 |      10 |      5 | 0.725 |     4 |
| t63       |       718 |      10 |      5 | 0.725 |     7 |
| t55       |       942 |      12 |      5 | 0.725 |     4 |
| t101      |       955 |       3 |      5 | 0.725 |    18 |
| t133j     |      1052 |      10 |      5 | 0.725 |    32 |
| t91       |      1168 |      10 |      5 | 0.725 |    10 |
| t100      |      1613 |       6 |      5 | 0.725 |    26 |
| t48a      |      1861 |       1 |      5 | 0.725 |     8 |
| t141      |      1974 |       6 |      5 | 0.725 |    13 |
| t65       |      2490 |      11 |      5 | 0.725 |    14 |
| t30       |      2563 |       6 |      5 | 0.725 |     7 |
| t153      |      2701 |      13 |      5 | 0.725 |     4 |
| t142h     |      2749 |       9 |      5 | 0.725 |    14 |
| t6        |      2809 |      14 |      5 | 0.725 |    29 |
| t12       |      3035 |      14 |      5 | 0.725 |    48 |
| t52       |      3339 |       9 |      5 | 0.725 |    24 |
| t56       |      3394 |       8 |      5 | 0.725 |    14 |
| t53       |      3525 |       9 |      5 | 0.725 |    23 |
| t19a      |      3535 |       4 |      5 | 0.725 |    23 |
| t88       |      3818 |       7 |      5 | 0.725 |     4 |
| t57       |      3960 |       5 |      5 | 0.725 |    17 |
| t18a      |      4245 |       3 |      5 | 0.725 |    24 |
| t37       |      4484 |      14 |      5 | 0.725 |    35 |
| t128      |      4494 |       8 |      5 | 0.725 |    21 |
| t125      |      4963 |       9 |      5 | 0.725 |    13 |
| t124      |      5129 |       7 |      5 | 0.725 |    16 |
| t136      |      6210 |      14 |      5 | 0.725 |    16 |
| t116j     |      6306 |       0 |      5 | 0.725 |    37 |
| t72h      |      6969 |       4 |      5 | 0.725 |    14 |
| t115h     |      7736 |       0 |      5 | 0.725 |    39 |
| t71h      |      9470 |      10 |      5 | 0.725 |    17 |
| t158      |     10273 |       5 |      5 | 0.725 |    14 |
| t122i     |     11357 |       5 |      5 | 0.725 |     9 |
| t82a      |     12265 |      11 |      5 | 0.725 |     6 |
| t134      |     13017 |      11 |      5 | 0.725 |    35 |
| t49       |     17544 |       9 |      5 | 0.725 |    16 |
| t123a     |     17562 |      10 |      5 | 0.725 |    11 |
| t82h      |     17847 |      10 |      5 | 0.725 |    13 |
| t135      |     18139 |       8 |      5 | 0.725 |    26 |
| t165      |     34267 |      13 |      5 | 0.725 |    46 |
| t99       |     36126 |      14 |      5 | 0.725 |    39 |
| t68       |     38862 |       9 |      5 | 0.725 |    43 |
| t141b     |     53491 |       1 |      5 | 0.725 |    33 |
| t150      |     62029 |       9 |      5 | 0.725 |     6 |
| t81       |     81527 |       1 |      5 | 0.725 |     3 |
| t83h      |     89906 |      12 |      5 | 0.725 |     8 |
| t141c     |    139173 |       9 |      5 | 0.725 |   206 |
| t141a     |    179719 |      10 |      5 | 0.725 |    86 |

# Local Variables:
# org-confirm-babel-evaluate: nil
# End:
